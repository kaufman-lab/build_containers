yum install epel-release
yum install R

#set user library to somewhere other than home, to avoid library conflicts with the local machine
#note that /pseudohome doesn't exist. you need to mount it when starting the images if you want to install user packages.
echo "R_LIBS_USER=/pseudohome/R/packages" >> usr/local/lib/R/etc/Renviron.site
echo "options(repos = c(REPO_NAME = "https://packagemanager.rstudio.com/all/latest"))" >> usr/local/lib/R/etc/Rprofile.site

Rscript -e 'install.packages(c("remotes"))' #bootstrap from most recent version of remotes since this is where the install_version function lives.
 
# 
# 
# Rscript -e 'install.packages(c("devtools"))' #bootstrap from most recent version
# 
# 
#                   Package             Version
# askpass           "askpass"           "1.1"
# assertthat        "assertthat"        "0.2.1"
# backports         "backports"         "1.2.1"
# base64enc         "base64enc"         "0.1-3"
# base64url         "base64url"         "1.4"
# batchtools        "batchtools"        "0.9.15"
# BH                "BH"                "1.72.0-3"
# bit               "bit"               "4.0.4"
# bit64             "bit64"             "4.0.5"
# brew              "brew"              "1.0-6"
# broom             "broom"             "0.7.3"
# callr             "callr"             "3.4.3"
# checkmate         "checkmate"         "2.0.0"
# cli               "cli"               "2.0.2"
# clipr             "clipr"             "0.7.0"
# colorspace        "colorspace"        "1.4-1"
# commonmark        "commonmark"        "1.7"
# config            "config"            "0.3"
# covr              "covr"              "3.5.0"
# cpp11             "cpp11"             "0.2.3"
# crayon            "crayon"            "1.3.4"
# crosstalk         "crosstalk"         "1.1.0.1"
# curl              "curl"              "4.3"
# data.table        "data.table"        "1.13.6"
# debugme           "debugme"           "1.1.0"
# desc              "desc"              "1.2.0"
# devtools          "devtools"          "2.3.1"
# digest            "digest"            "0.6.27"
# dplyr             "dplyr"             "1.0.2"
# DT                "DT"                "0.14"
# ellipsis          "ellipsis"          "0.3.1"
# evaluate          "evaluate"          "0.14"
# fansi             "fansi"             "0.4.1"
# farver            "farver"            "2.0.3"
# fs                "fs"                "1.5.0"
# future            "future"            "1.21.0"
# future.apply      "future.apply"      "1.7.0"
# future.batchtools "future.batchtools" "0.10.0"
# futurebrain       "futurebrain"       "0.9.8.1"
# generics          "generics"          "0.0.2"
# ggplot2           "ggplot2"           "3.3.2"
# gh                "gh"                "1.1.0"
# git2r             "git2r"             "0.27.1"
# globals           "globals"           "0.14.0"
# glue              "glue"              "1.4.1"
# gtable            "gtable"            "0.3.0"
# highr             "highr"             "0.8"
# hms               "hms"               "0.5.3"
# htmltools         "htmltools"         "0.5.0"
# htmlwidgets       "htmlwidgets"       "1.5.1"
# httr              "httr"              "1.4.2"
# ini               "ini"               "0.3.1"
# isoband           "isoband"           "0.2.2"
# jsonlite          "jsonlite"          "1.7.0"
# keras             "keras"             "2.3.0.0"
# knitr             "knitr"             "1.29"
# labeling          "labeling"          "0.3"
# later             "later"             "1.1.0.1"
# lazyeval          "lazyeval"          "0.2.2"
# lifecycle         "lifecycle"         "0.2.0"
# listenv           "listenv"           "0.8.0"
# lubridate         "lubridate"         "1.7.9"
# magrittr          "magrittr"          "1.5"
# markdown          "markdown"          "1.1"
# memoise           "memoise"           "1.1.0"
# mime              "mime"              "0.9"
# munsell           "munsell"           "0.5.0"
# numDeriv          "numDeriv"          "2016.8-1.1"
# openssl           "openssl"           "1.4.2"
# parallelly        "parallelly"        "1.23.0"
# pillar            "pillar"            "1.4.6"
# pkgbuild          "pkgbuild"          "1.1.0"
# pkgconfig         "pkgconfig"         "2.0.3"
# pkgload           "pkgload"           "1.1.0"
# pls               "pls"               "2.7-3"
# praise            "praise"            "1.0.0"
# prettyunits       "prettyunits"       "1.1.1"
# processx          "processx"          "3.4.3"
# progress          "progress"          "1.2.2"
# promises          "promises"          "1.1.1"
# ps                "ps"                "1.3.3"
# purrr             "purrr"             "0.3.4"
# R.methodsS3       "R.methodsS3"       "1.8.1"
# R.oo              "R.oo"              "1.24.0"
# R.utils           "R.utils"           "2.10.1"
# R6                "R6"                "2.5.0"
# rappdirs          "rappdirs"          "0.3.3"
# raster            "raster"            "3.4-13"
# rcmdcheck         "rcmdcheck"         "1.3.3"
# RColorBrewer      "RColorBrewer"      "1.1-2"
# Rcpp              "Rcpp"              "1.0.5"
# rematch2          "rematch2"          "2.1.2"
# remotes           "remotes"           "2.2.0"
# reticulate        "reticulate"        "1.16"
# rex               "rex"               "1.2.0"
# rgdal             "rgdal"             "1.5-23"
# rgeos             "rgeos"             "0.5-5"
# rlang             "rlang"             "0.4.7"
# roxygen2          "roxygen2"          "7.1.1"
# rprojroot         "rprojroot"         "1.3-2"
# RSclient          "RSclient"          "0.7-3"
# Rserve            "Rserve"            "1.8-7"
# rstudioapi        "rstudioapi"        "0.11"
# rversions         "rversions"         "2.0.2"
# scales            "scales"            "1.1.1"
# sessioninfo       "sessioninfo"       "1.1.1"
# sp                "sp"                "1.4-2"
# ssh.utils         "ssh.utils"         "1.0"
# stringi           "stringi"           "1.5.3"
# stringr           "stringr"           "1.4.0"
# survival          "survival"          "3.2-7"
# survivaltools     "survivaltools"     "0.0.0.9000"
# sys               "sys"               "3.4"
# tensorflow        "tensorflow"        "2.2.0"
# testthat          "testthat"          "2.3.2"
# tfruns            "tfruns"            "1.4"
# tibble            "tibble"            "3.0.3"
# tidyr             "tidyr"             "1.1.2"
# tidyselect        "tidyselect"        "1.1.0"
# usethis           "usethis"           "1.6.1"
# utf8              "utf8"              "1.1.4"
# vctrs             "vctrs"             "0.3.2"
# viridisLite       "viridisLite"       "0.3.0"
# whisker           "whisker"           "0.4"
# withr             "withr"             "2.4.1"
# xfun              "xfun"              "0.16"
# xml2              "xml2"              "1.3.2"
# xopen             "xopen"             "1.0.0"
# yaml              "yaml"              "2.2.1"
# zeallot           "zeallot"           "0.1.0"
